---
interface Props {
	title: string;
	description: string;
	href?: string;
	image?: string;
	tags?: string[];
	className?: string;
}

const { title, description, href, image, tags, className = '' } = Astro.props;
---

<div class={`project-card ${className}`}>
	{image && (
		<div class="project-card__image">
			<img src={image} alt={title} loading="lazy" />
		</div>
	)}
	<div class="project-card__content">
		<h3 class="project-card__title">
			{href ? (
				<a href={href}>{title}</a>
			) : (
				title
			)}
		</h3>
		<p class="project-card__description">{description}</p>
		{tags && tags.length > 0 && (
			<div class="project-card__tags">
				{tags.map((tag) => (
					<span class="project-card__tag">{tag}</span>
				))}
			</div>
		)}
	</div>
</div>

<style>
	.project-card {
		display: flex;
		flex-direction: column;
		background: var(--sl-color-bg-nav);
		border: 1px solid var(--sl-color-gray-5);
		border-radius: 0.5rem;
		overflow: hidden;
		transition: transform 0.2s ease, box-shadow 0.2s ease;
	}

	.project-card:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	}

	.project-card__image {
		width: 100%;
		aspect-ratio: 16 / 9;
		overflow: hidden;
		background: var(--sl-color-gray-6);
	}

	.project-card__image img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}

	.project-card__content {
		padding: 1.5rem;
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
		flex: 1;
	}

	.project-card__title {
		margin: 0;
		font-size: var(--sl-text-xl);
		font-weight: 600;
		line-height: var(--sl-line-height-headings);
	}

	.project-card__title a {
		color: var(--sl-color-text);
		text-decoration: none;
		transition: color 0.2s ease;
	}

	.project-card__title a:hover {
		color: var(--sl-color-accent);
	}

	.project-card__description {
		margin: 0;
		color: var(--sl-color-gray-3);
		font-size: var(--sl-text-base);
		line-height: var(--sl-line-height);
		flex: 1;
	}

	.project-card__tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
		margin-top: auto;
	}

	.project-card__tag {
		display: inline-block;
		padding: 0.25rem 0.75rem;
		background: var(--sl-color-gray-6);
		color: var(--sl-color-text);
		border-radius: 0.25rem;
		font-size: var(--sl-text-sm);
		font-weight: 500;
	}

	/* Dark mode adjustments */
	:global([data-theme='dark']) .project-card {
		background: var(--sl-color-gray-7);
		border-color: var(--sl-color-gray-5);
	}

	:global([data-theme='dark']) .project-card__description {
		color: var(--sl-color-gray-3);
	}

	:global([data-theme='dark']) .project-card__tag {
		background: var(--sl-color-gray-6);
	}
</style>
